<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>HOME</title>

    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <script th:src="@{/js/jquery-3.1.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>

    <style>
        textarea.autosize { min-height: 50px; }
    </style>
</head>
<body>
<div id="menu">
    <div class="panel list-group" th:each="fake : ${fakes}">

        <a href="#" class="list-group-item" data-toggle="collapse" data-target="#sm" data-parent="#menu">
            <span th:text="${fake.uri}"></span>
        </a>
        <div id="sm" class="sublinks collapse">
            <div class="form-group">
                <textarea onkeydown="resize(this)" onkeyup="resize(this)" class="form-control autosize" id="json"></textarea>
            </div>
        </div>
    </div>
</div>
</body>
<script>

    var resize = function(obj) {
        obj.style.height = "1px";
        obj.style.height = (20+obj.scrollHeight)+"px";
    }
//    $.get("/test", function (data) {
//        console.log(data);
//        document.getElementById("json").innerHTML = JSON.stringify(JSON.parse(data[0].data), undefined, 2);
//    })
</script>
</html>